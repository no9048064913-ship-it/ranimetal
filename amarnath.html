<!DOCTYPE html>
<html lang="ml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unit Dashboard</title>
    
    <link rel="icon" type="image/png" href="icon.png">
    
    <meta name="theme-color" content="#4f46e5">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            -webkit-tap-highlight-color: transparent;
            /* Vibrant Gradient Background matching index.html */
            background: linear-gradient(135deg, #4f46e5 0%, #9333ea 50%, #db2777 100%);
            background-size: 200% 200%;
            animation: gradientMove 15s ease infinite;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Glassmorphism Container */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        /* Dashboard Item Cards */
        .dash-btn {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .dash-btn:active {
            transform: scale(0.96);
        }

        .dash-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom right, rgba(255,255,255,0.4), rgba(255,255,255,0));
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .dash-btn:hover::before {
            opacity: 1;
        }
        
        /* Custom Colors for Buttons */
        .btn-blue { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); }
        .btn-red { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
        .btn-yellow { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .btn-purple { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }

        .fade-in-up {
            animation: fadeInUp 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
    </style>
</head>
<body class="h-screen w-screen overflow-hidden text-slate-800 flex flex-col items-center justify-center relative">

    <!-- Back Button (Floating) -->
    <a href="index.html" class="absolute top-4 left-4 z-50 p-2 bg-white/20 hover:bg-white/30 backdrop-blur-md rounded-full text-white shadow-lg border border-white/30 transition-all active:scale-90 flex items-center justify-center">
        <i data-lucide="arrow-left" class="w-5 h-5"></i>
    </a>

    <main class="relative z-10 w-full h-full max-w-md px-5 flex flex-col items-center justify-center fade-in-up">
        
        <!-- Header Section -->
        <div class="mb-6 text-center space-y-1 flex-shrink-0 w-full">
            <h1 id="unit-title" class="text-3xl font-black tracking-tight text-white drop-shadow-md uppercase">
                RANI METAL
            </h1>
            <p class="text-white/80 text-xs font-medium tracking-wider uppercase">
                Management Dashboard
            </p>
        </div>

        <!-- Main Dashboard Grid -->
        <div class="glass-card w-full rounded-3xl overflow-hidden flex-shrink-0 shadow-2xl">
            <div class="p-5">
                <!-- 2x2 Grid Layout -->
                <div class="grid grid-cols-2 gap-3 w-full">
                    
                    <!-- 1. Customer Statement -->
                    <a href="https://script.google.com/macros/s/AKfycbwkn3vrnuPP7Lw2kIjLcwsjxXF7RAlOTLDoTX_ijm-sHv3YfduovuVb4NpgEcazupclSw/exec" class="dash-btn btn-blue group rounded-2xl p-4 flex flex-col items-center justify-center gap-2 no-underline cursor-pointer select-none aspect-square shadow-lg border border-white/20">
                        <div class="p-2.5 bg-white/20 backdrop-blur-sm rounded-full text-white shadow-inner">
                            <i data-lucide="file-text" class="w-6 h-6"></i>
                        </div>
                        <div class="text-center text-white">
                            <span class="block text-xs font-bold uppercase tracking-wide opacity-90">Customer</span>
                            <span class="block text-[10px] opacity-75 font-light mt-0.5">ഉപഭോക്തൃ വിവരങ്ങൾ</span>
                        </div>
                    </a>

                    <!-- 2. Expense -->
                    <a href="expense.html" class="dash-btn btn-red group rounded-2xl p-4 flex flex-col items-center justify-center gap-2 no-underline cursor-pointer select-none aspect-square shadow-lg border border-white/20">
                        <div class="p-2.5 bg-white/20 backdrop-blur-sm rounded-full text-white shadow-inner">
                            <i data-lucide="coins" class="w-6 h-6"></i>
                        </div>
                        <div class="text-center text-white">
                            <span class="block text-xs font-bold uppercase tracking-wide opacity-90">Expense</span>
                            <span class="block text-[10px] opacity-75 font-light mt-0.5">ചെലവുകൾ</span>
                        </div>
                    </a>

                    <!-- 3. Soling -->
                    <a href="#" class="dash-btn btn-yellow group rounded-2xl p-4 flex flex-col items-center justify-center gap-2 no-underline cursor-pointer select-none aspect-square shadow-lg border border-white/20">
                        <div class="p-2.5 bg-white/20 backdrop-blur-sm rounded-full text-white shadow-inner">
                            <i data-lucide="layers" class="w-6 h-6"></i>
                        </div>
                        <div class="text-center text-white">
                            <span class="block text-xs font-bold uppercase tracking-wide opacity-90">Soling</span>
                            <span class="block text-[10px] opacity-75 font-light mt-0.5">സോളിംഗ് സ്റ്റോക്ക്</span>
                        </div>
                    </a>

                    <!-- 4. MD -->
                    <a href="md.html" class="dash-btn btn-purple group rounded-2xl p-4 flex flex-col items-center justify-center gap-2 no-underline cursor-pointer select-none aspect-square shadow-lg border border-white/20">
                        <div class="p-2.5 bg-white/20 backdrop-blur-sm rounded-full text-white shadow-inner">
                            <i data-lucide="user-cog" class="w-6 h-6"></i>
                        </div>
                        <div class="text-center text-white">
                            <span class="block text-xs font-bold uppercase tracking-wide opacity-90">MD</span>
                            <span class="block text-[10px] opacity-75 font-light mt-0.5">മാനേജിംഗ് ഡയറക്ടർ</span>
                        </div>
                    </a>

                </div>
            </div>
        </div>
        
        <footer class="mt-8 text-white/60 text-[10px] font-medium text-center flex-shrink-0 tracking-wide">
            <p>&copy; Mudipu Stone Crushers</p>
        </footer>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Icons
            if (typeof lucide !== 'undefined') lucide.createIcons();

            // Handle Dynamic Unit Name from URL
            const params = new URLSearchParams(window.location.search);
            const unitName = params.get('unit');
            
            if (unitName) {
                document.getElementById('unit-title').textContent = unitName;
                document.title = unitName + " Dashboard";

                // Pass the unit name to sub-pages
                const links = document.querySelectorAll('.dash-btn');
                links.forEach(link => {
                    const currentHref = link.getAttribute('href');
                    if(currentHref && !currentHref.includes('?') && !currentHref.startsWith('http')) {
                        link.setAttribute('href', `${currentHref}?unit=${encodeURIComponent(unitName)}`);
                    }
                });
            }
        });
    </script>
</body>
</html>
